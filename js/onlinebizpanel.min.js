var onlineBizPanel=function(n,e,a){function c(){var n,e=a.createElement("fakeelement"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(n in t)if(void 0!==e.style[n])return t[n]}function l(n){var e=i.attr("data-status");"accordion"===e&&g()}function u(e){e.preventDefault();var a=n(this).attr("data-businessname"),t=ajaxManager.search("businessName",a);h(t)}function p(n){console.log(n)}function h(e){var a=n(".top-wrap img"),t=n(".top-wrap h2"),o=n(".top-wrap a"),i=n(".bottom-wrap p"),r=n(".bottom-wrap a"),s=n(".bottom-wrap a");a.attr("src",e.logo),t.text(e.businessName),o.text(e.phone),i.text(e.details),r.attr("href",e.website).text(e.website),s.attr("src",e.mainimage)}function g(){t.toggleClass("ob-expanded ob-collapse"),o.toggleClass("ob-fadeOut ob-fadeIn"),i.find("i").toggleClass("chevicon-chev-up chevicon-chev-down")}function b(n,e){var t=a.createElement(n);return e&&Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])}),t}function m(e){var t=a.createDocumentFragment();e.forEach(function(e){var a=b("li"),o=b("a",{"class":"ob-details",href:"#","data-businessname":e.businessName}),i=b("p"),r=b("div",{"class":"ob-phone"}),s=b("a",{href:e.website,target:"_blank"}),c=b("h2");n(a).append(o,r,s),n(c).append(e.businessName),n(i).append(e.details),n(o).append(c,i),n(r).append(e.phone),n(s).append(e.website),n(t).append(a)}),o.append(t)}var t,o,i,r={},s=c();return r.collapse=function(){t.hasClass("ob-expanded")&&g()},r.expand=function(){t.hasClass("ob-collapse")&&g()},r.init=function(e){t=n(e.listContainer),o=n(e.listInnerContainer),i=n(e.toggleElement),ajaxManager.loadData(m),i.bind("click",l),o.on("click",'a[class^="ob-details"]',u),s&&o.bind(s,p)},r}(jQuery,window,document);$(document).ready(function(){onlineBizPanel.init({listContainer:"#online-list-containter",listInnerContainer:"#online-list-containter ul",toggleElement:"#online-biz-toggle"})});